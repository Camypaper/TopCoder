<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title>TopCoder TCO 2013 Round 2B - 500: ScotlandYard</title>
    
    <link type="image/x-icon" rel="shortcut icon" href="http://www.topcoder.com/i/favicon.ico"/>
    

    
    <style type="text/css">
        /* font */
body {
    font-family: Helvetica, Arial, Verdana, sans-serif;
    font-size: 16px;
    line-height: 1.2em;
}
ul.constraints > li:before, ul.notes > li:before {
    font-family: monospace;
    font-weight: normal;
}
.heading {
    font-weight: bold;
    font-size: 175%;
    line-height: 1.2em;
}
.section .section-title {
    font-weight: bold;
    font-size: 125%;
}
ol.testcases > li:before {
    font-family: monospace;
}
type {
    font-weight: bold;
    font-family: monospace;
}
li.testcase .data {
    font-family: monospace;
    line-height: 1.5em;
}

/* layout */
.heading {
    margin-top: 0.1em;
    margin-bottom:0.1em;
    text-align: center;
}
.section .section-title {
    margin-top : 1em;
    margin-bottom: 1em;
}
.problem-intro, note, user-constraint {
    padding-left: 1.25em;
}

/* Lists */
ul.constraints, ul.notes, ul.variables, ul.problem-definition-lines {
    list-style-type: none;
    padding: 0px;
}
ul.constraints > li:before {
    content: "-";
    position:relative;
    margin-left: 0px; /* optional, for multiline li element */
    left: 0.625em;
}
ul.notes > li:before {
    content: "-";
    position:relative;
    margin-left: 0px; /* optional, for multiline li element */
    left: 0.625em;
}

/* Testcases */
li.testcase {
    line-height: 1.1em;
    padding-top: 0.625em;
    padding-bottom: 0.625em;
    overflow: auto;
}
li.testcase > .testcase-content > div { padding-bottom: 0.5em; padding-left: 1em; }

li.testcase .testcase-comment {
    margin: 0;
    padding-left: 1em;
}
.testcase-comment p:first-child { margin-top: 0; }
.testcase-comment p:last-child { margin-bottom: 0; }

li.testcase .testcase-content {
    margin: 0.31em;
}

/* Data and variables */
.testcase-output {
    padding: 0.2em 1em 0.2em 0em;
}
.variables, .testcase-output {
    margin-left: 0.5em;
    display: table;
    margin-bottom: 0px;
    margin-top: 0px;
}
.variable {
    display: table-row;
}
.variable .name {
    padding: 0.2em 0em 0.2em 1em;
    font-weight: bold;
    display: table-cell;
    text-align: right;
}
.testcase-output .prefix {
    padding: 0.2em 0em 0.2em 1em;
    display: table-cell;
}
.testcase-output .prefix:after {
    content : ":";
    padding-right: 0.5em;
}
.variable .name:after {
    font-weight: bold;
    content : ":";
    padding-right: 0.5em;
}
.variable .value, .testcase-output .value {
    padding: 0.2em 1em 0.2em 0em;
    display: table-cell;
}
ol.testcases {
    padding: 0px;
    counter-reset: test_number -1;
}
ol.testcases > li {
    list-style:none;
}
ol.testcases > li:before {
    counter-increment:test_number;
    display: block;
    clear: both;
    content:counter(test_number) ")";
    color: inherit;
    background: inherit;
}

/* Problem Definition */
.problem-definition, .problem-limits {
    padding-left: 1.25em;
}
.problem-definition-lines, .limit-lines {
    display: table;
    margin-top: 0px;
    margin-bottom: 0px;
    padding-left: 0px;
}
.definition-line, .limit-line {
    display: table-row;
    height: 1.5em;
    overflow: auto;
}
.limit-name:after {
    content: ":";
    margin-right: 1em;
}
.definition-name, .definition-value, .limit-name, .limit-value {
    display: table-cell;
}
.definition-value {
    padding-left: 0.5em;
}
.definition-name:after {
    content: ":";
}
#contest-division:before {
    content: "Div ";
}
#problem-score:before {
    content: "- Problem ";
}
#problem-name {
    display: block;
}

/* Tags, hidden default */
.tag {
    visibility: hidden;
    position: absolute;
}

        body {
    /* font color */
    color: #333333;
    /* background color */
    background-color: white;
}
.section .section-title {
    /* title color */
    color: black;
}
li.testcase .data {
    /* highlight color */
    background: #eee;
}

    </style>
    
    
    

</head>

<body>
    <h1 class="heading">
        <span id='contest-name'>TCO 2013 Round 2B</span>
        <span id='contest-division'>1</span>
        <span id='problem-score'>500</span>
        <span id='problem-name'>ScotlandYard</span>
    </h1>

    <hr />

    <!-- Problem Statement -->
    <div class="section">
        <h2 class="section-title">Problem Statement</h2>
        <div class="problem-intro">
            <intro escaped="1">Fox Ciel and Fox Jiro play a game called <i>Scotland Yard</i>.
Their version of the game is a bit simplified, so if you know the original game, make sure you read the problem statement carefully.
<br />
<br />
In the game Ciel and Jiro play, they use a map containing n cities.
The cities are numbered 0 through n-1.
The map also contains a bunch of arrows.
Each arrow leads from one city to another (different) city, and has one of three possible colors.
The colors represent three types of transportation: taxis, buses, and metro (subway).
Both Ciel and Jiro know all information in this map.
<br />
<br />
You are given three <type>String[]</type>s: <b>taxi</b>, <b>bus</b>, and <b>metro</b>.
The j-th character of the i-th element of <b>taxi</b> is 'Y' if it is possible to travel directly from city i to city j using a taxi, or 'N' if that is not possible.
In the same way, <b>bus</b> and <b>metro</b> encode the information about bus and subway travel.
Note that all transportation options are one-way. Also note that there are no additional restrictions.
(That is, it may be possible to travel between some pairs of cities in both directions, there may be more than one transportation option from city i to city j, and for each transport type there can be arbitrarily many options leaving a given city.)
<br />
<br />
The game starts by Ciel secretly choosing one of the n cities as her initial location.
The game then proceeds in turns.
In each turn, first Ciel moves to an adjacent location, then Jiro has the option to announce her new location.
More precisely, it looks as follows:
Whenever it is Ciel's turn to move, she has to move from her current city X to some other city Y.
If there are no transportation options that start in the city X, Ciel announces this and the game ends.
Otherwise, she chooses one of the available options and moves to its destination.
Additionally, Ciel announces to Jiro the type of the transportation system she used (&quot;taxi&quot;, &quot;bus&quot;, or &quot;metro&quot;).
Whenever it is Jiro's turn, if he is certain of Ciel's current city, he announces it and the game ends.
Otherwise, Jiro passes and it's again Ciel's turn to move.
(Note that Jiro can use all the information he has: the layout of the map, and the sequence of transportation systems Ciel already announced.)
<br />
<br />
Ciel's score is the number of travels she made.
Return Ciel's score, assuming that she plays optimally.
If she can continue the game forever without being discovered by Jiro, return -1 instead.</intro>
        </div>
    </div>
    
    <!-- Problem definition -->
    
    <div class="section" id="definition">
        <h2 class="section-title">Definition</h2>
        <div class="problem-definition">
            <ul class="problem-definition-lines">
                <li class="definition-line" id='class-line'>
                    <span class='definition-name'>Class</span>
                    <span class='definition-value'>ScotlandYard</span>
                </li>
                <li class="definition-line" id='method-line'>
                    <span class='definition-name'>Method</span>
                    <span class='definition-value'>maxMoves</span>
                </li>
                <li class="definition-line" id='parameters-line'>
                    <span class='definition-name'>Parameters</span>
                    <span class='definition-value'>
                    
                        string[]
                    , 
                        string[]
                    , 
                        string[]
                    
                    </span>
                </li>
                <li class="definition-line" id='returns-line'>
                    <span class='definition-name'>Returns</span>
                    <span class='definition-value'>
                        int
                    </span>
                </li>
                <li class="definition-line" id='signature-line'>
                    <span class='definition-name'>Method signature</span>
                    <span class='definition-value'>
                        int maxMoves(string[] taxi, string[] bus, string[] metro)
                    </span>
                </li>
            </ul>
            <div class="problem-definition-public-tip">(be sure your method is public)</div>
        </div>        
    </div>
    

    <!-- Limits -->
    <div class="section">
        <h2 class="section-title">Limits</h2>
        <div class='problem-limits'>
            <ul class="limit-lines">
                <li class='limit-line'>
                    <span class='limit-name'>Time limit (s)</span>
                    <span class='limit-value'>2.000</span>
                </li>
                <li class='limit-line'>
                    <span class='limit-name'>Memory limit (MB)</span>
                    <span class='limit-value'>64</span>
                </li>
            </ul>
        </div>
    </div>

    
    <!-- Notes -->
    <div class="section">
        <h2 class="section-title">Notes</h2>
        <ul class="notes">
        
            <li><note escaped="1">The answer will always fit into a signed 32bit integer.</note></li>
        
        </ul>
    </div>
    
    
    <!-- Constraints -->
    <div class="section">
        <h2 class="section-title">Constraints</h2>
        <ul class="constraints">
        
            <li><user-constraint escaped="1"><b>taxi</b> will contain between 2 and 50 elements, inclusive.</user-constraint></li>
        
            <li><user-constraint escaped="1"><b>taxi</b>, <b>bus</b>, and <b>metro</b> will contain the same number of elements.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each element of <b>taxi</b>, <b>bus</b>, and <b>metro</b> will contain n characters, where n is the number of elements in <b>taxi</b>.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each character in <b>taxi</b>, <b>bus</b>, and <b>metro</b> will be either 'Y' or 'N'.</user-constraint></li>
        
            <li><user-constraint escaped="1">The i-th character of the i-th element of <b>taxi</b>, <b>bus</b>, and <b>metro</b> will be 'N'.</user-constraint></li>
        
        </ul>
    </div>

    <!-- Test cases -->
    <div class="section">
        <h2 class="section-title">Test cases</h2>
        <ol class="testcases" start='0'>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">taxi</span>
                                <span class="value data">
                                
                                    {&quot;NYN&quot;,<br />&nbsp;&quot;NNY&quot;,<br />&nbsp;&quot;NNN&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">bus</span>
                                <span class="value data">
                                
                                    {&quot;NNN&quot;,<br />&nbsp;&quot;NNN&quot;,<br />&nbsp;&quot;NNN&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">metro</span>
                                <span class="value data">
                                
                                    {&quot;NNN&quot;,<br />&nbsp;&quot;NNN&quot;,<br />&nbsp;&quot;NNN&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            2
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment"><img src="http://www.topcoder.com/contest/problem/ScotlandYard/pic1.gif"></img><br />
Ciel starts in city 0.
In her first move, she announces &quot;taxi&quot; and moves from 0 to 1.
At that moment, Jiro is not certain of her location: she can be in city 1 or in city 2.
In her second move, Ciel announces &quot;taxi&quot; and moves from 1 to 2.
Jiro announces that Ciel is in city 2 and the game ends.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">taxi</span>
                                <span class="value data">
                                
                                    {&quot;NYY&quot;,<br />&nbsp;&quot;NNN&quot;,<br />&nbsp;&quot;NNN&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">bus</span>
                                <span class="value data">
                                
                                    {&quot;NNN&quot;,<br />&nbsp;&quot;NNN&quot;,<br />&nbsp;&quot;NNN&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">metro</span>
                                <span class="value data">
                                
                                    {&quot;NNN&quot;,<br />&nbsp;&quot;NNN&quot;,<br />&nbsp;&quot;NNN&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            1
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment"><img src="http://www.topcoder.com/contest/problem/ScotlandYard/pic2.gif"></img><br />
After Ciel's first move, Jiro doesn't know her location. Still, the game ends, because Ciel has no more moves.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">taxi</span>
                                <span class="value data">
                                
                                    {&quot;NYYY&quot;,<br />&nbsp;&quot;YNYY&quot;,<br />&nbsp;&quot;YYNY&quot;,<br />&nbsp;&quot;YYYN&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">bus</span>
                                <span class="value data">
                                
                                    {&quot;NNNN&quot;,<br />&nbsp;&quot;NNNN&quot;,<br />&nbsp;&quot;NNNN&quot;,<br />&nbsp;&quot;NNNN&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">metro</span>
                                <span class="value data">
                                
                                    {&quot;NNNN&quot;,<br />&nbsp;&quot;NNNN&quot;,<br />&nbsp;&quot;NNNN&quot;,<br />&nbsp;&quot;NNNN&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            -1
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment"><img src="http://www.topcoder.com/contest/problem/ScotlandYard/pic3.gif"></img><br />
Ciel can use taxis to drive back and forth between the cities indefinitely. Jiro has no chance to discover her location.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">taxi</span>
                                <span class="value data">
                                
                                    {&quot;NNY&quot;,<br />&nbsp;&quot;NNY&quot;,<br />&nbsp;&quot;NNN&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">bus</span>
                                <span class="value data">
                                
                                    {&quot;NYN&quot;,<br />&nbsp;&quot;NNY&quot;,<br />&nbsp;&quot;NNN&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">metro</span>
                                <span class="value data">
                                
                                    {&quot;NNN&quot;,<br />&nbsp;&quot;NNN&quot;,<br />&nbsp;&quot;YNN&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            2
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment"><img src="http://www.topcoder.com/contest/problem/ScotlandYard/pic4.gif"></img><br />
Ciel starts by choosing her initial location and the first mode of transport.
Here is how Jiro will think after Ciel's first move:
<ul>
<li>Suppose that Ciel announced &quot;taxi&quot;. She could have started in city 0 or in city 1, but either way she would take the taxi to city 2. Thus, Jiro knows that Ciel is in city 2 and the game ends.</li>
<li>Metro is even simpler. If Ciel announced she took the metro, she must have started in city 2 and then she took the metro to city 0. Jiro announces city 0 and the game ends.</li>
<li>If Ciel announed that she took the bus, Jiro is not sure about her location: she can be either in city 1, or in city 2.</li>
</ul>
Regardless of where Ciel started and what she does in the second step after taking a bus in the first step, Jiro will always be able to determine her location and the game ends.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">taxi</span>
                                <span class="value data">
                                
                                    {&quot;NNN&quot;,<br />&nbsp;&quot;YNY&quot;,<br />&nbsp;&quot;NNN&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">bus</span>
                                <span class="value data">
                                
                                    {&quot;NNN&quot;,<br />&nbsp;&quot;YNN&quot;,<br />&nbsp;&quot;YNN&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">metro</span>
                                <span class="value data">
                                
                                    {&quot;NNN&quot;,<br />&nbsp;&quot;NNN&quot;,<br />&nbsp;&quot;YYN&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            -1
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment"><img src="http://www.topcoder.com/contest/problem/ScotlandYard/pic5.gif"></img><br />
If Ciel travels back and forth between cities 1 and 2, Jiro will never catch her.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">taxi</span>
                                <span class="value data">
                                
                                    {&quot;NNNNYNNNYY&quot;,<br />&nbsp;&quot;NNYNNYYYYY&quot;,<br />&nbsp;&quot;NNNNNNNNNN&quot;,<br />&nbsp;&quot;YYNNYYNNNY&quot;,<br />&nbsp;&quot;NNYNNNNNNN&quot;,<br />&nbsp;&quot;YNYNYNNNYN&quot;,<br />&nbsp;&quot;NNYNYNNNYN&quot;,<br />&nbsp;&quot;NNNNNNYNNN&quot;,<br />&nbsp;&quot;NNNNNNNNNN&quot;,<br />&nbsp;&quot;NNNNNNYNNN&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">bus</span>
                                <span class="value data">
                                
                                    {&quot;NNYNNNYNNY&quot;,<br />&nbsp;&quot;YNYNNYYNYY&quot;,<br />&nbsp;&quot;NNNNNNNNNN&quot;,<br />&nbsp;&quot;YNYNNYNYNY&quot;,<br />&nbsp;&quot;NNYNNNNNYN&quot;,<br />&nbsp;&quot;YNYNYNYNYN&quot;,<br />&nbsp;&quot;NNYNNNNNNY&quot;,<br />&nbsp;&quot;YNYNNNNNNN&quot;,<br />&nbsp;&quot;NNNNNNNNNN&quot;,<br />&nbsp;&quot;NNYNYNNNNN&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">metro</span>
                                <span class="value data">
                                
                                    {&quot;NNNNNNNYNN&quot;,<br />&nbsp;&quot;YNYNNNNNYN&quot;,<br />&nbsp;&quot;NNNNNNNNNN&quot;,<br />&nbsp;&quot;NYNNYNNNYY&quot;,<br />&nbsp;&quot;NNYNNNNNNN&quot;,<br />&nbsp;&quot;YNYNNNNNYY&quot;,<br />&nbsp;&quot;NNNNYNNNYN&quot;,<br />&nbsp;&quot;NNYNNNYNNN&quot;,<br />&nbsp;&quot;NNNNNNNNNY&quot;,<br />&nbsp;&quot;NNYNYNNNNN&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            21
                        
                        </span>
                    </div>
                    
               
                </div>
            </li>
            
        </ol>
    </div>
    <hr />

    This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2003, TopCoder, Inc. All rights reserved.
</body>
</html>
